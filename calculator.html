<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
<title>Calculator</title>
<style>
html, body {
  margin:0; padding:0;
  height:100%; width:100%;
  overflow:hidden;
  background:#000;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display",sans-serif;
  display:flex;justify-content:center;align-items:center;
}
.container {
  width:100%;max-width:400px;height:100%;
  display:flex;flex-direction:column;justify-content:flex-end;
  padding:15px;box-sizing:border-box;
}
.display-wrapper {overflow-x:auto;scrollbar-width:none;}
.display-wrapper::-webkit-scrollbar{display:none;}
.display {
  color:#fff;text-align:right;font-size:3.3rem;
  padding:20px 10px;min-height:90px;white-space:nowrap;
}
.placeholder {color:#555;font-size:3.5rem;text-align:right;padding:20px 10px;}
.buttons {display:grid;grid-template-columns:repeat(4,1fr);gap:12px;}
button {
  font-size:1.6rem;height:70px;border:none;border-radius:50%;
  color:#fff;cursor:pointer;
  backdrop-filter: blur(15px) saturate(180%);
  background:rgba(255,255,255,0.08);
  transition:background .2s,transform .1s;
}
button:active{background:rgba(255,255,255,0.2);transform:scale(.94);}
button.zero{grid-column:span 2;border-radius:40px;text-align:left;padding-left:30px;}
button.operator{background:rgba(255,159,10,0.85);}
button.function{background:rgba(165,165,165,0.85);color:#000;}

#disconnectBtn{
  position:fixed;
  top:16px;
  right:16px;
  z-index:999999999999;
  padding:10px 20px;
  background:#ff3b30;
  border:none;
  color:white;
  font-size:15px;
  border-radius:20px;
  cursor:pointer;
  font-family:-apple-system;
  display:none;
}
</style>
</head>
<body>

<div id="calc" class="container">
  <div class="display-wrapper">
    <div id="placeholder" class="placeholder">0</div>
    <div id="display" class="display" style="display:none;"></div>
  </div>
  <div class="buttons">
    <button class="function" onclick="resetCalc()">AC</button>
    <button class="function" onclick="delOne()">⌫</button>
    <button class="function" onclick="append('%')">%</button>
    <button class="operator" onclick="append('÷')">÷</button>

    <button onclick="append('7')">7</button>
    <button onclick="append('8')">8</button>
    <button onclick="append('9')">9</button>
    <button class="operator" onclick="append('×')">×</button>

    <button onclick="append('4')">4</button>
    <button onclick="append('5')">5</button>
    <button onclick="append('6')">6</button>
    <button class="operator" onclick="append('-')">−</button>

    <button onclick="append('1')">1</button>
    <button onclick="append('2')">2</button>
    <button onclick="append('3')">3</button>
    <button class="operator" onclick="append('+')">+</button>

    <button class="zero" onclick="append('0')">0</button>
    <button onclick="append('.')">.</button>
    <button class="operator" onclick="calculate()">=</button>
  </div>
</div>

<button id="disconnectBtn" onclick="disconnect()">Disconnect</button>

<script>
let display=document.getElementById("display");
let placeholder=document.getElementById("placeholder");
let typed=false;

// Secret URLs
const IG_LOGIN_URL = "https://www.instagram.com/accounts/login/?force_web=1&no_app=1&source=web";
const IG_LOGOUT_URL = "https://www.instagram.com/accounts/logout/";

function append(v){
  if(!typed){
    placeholder.style.display="none";
    display.style.display="block";
    display.textContent="";
    typed=true;
  }
  display.textContent+=v;
}

function resetCalc(){
  typed=false;
  display.style.display="none";
  placeholder.style.display="block";
  display.textContent="";
}

function delOne(){
  if(!typed) return;
  display.textContent = display.textContent.slice(0,-1);
  if(display.textContent === "") resetCalc();
}

function calculate(){
  const exp = display.textContent;

  // PANIC CODE
  if(exp==="67+7-7"){
      let confirmReset = confirm("⚠️ Execute clear data?");
      if(confirmReset) panicReset();
      return;
  }

  // SECRET IG OPEN
  if(exp==="67+7"){
    openInstagram();
    return;
  }

  try{
    display.textContent = eval(exp.replace(/÷/g,"/").replace(/×/g,"*"));
  }catch{
    display.textContent = "Error";
  }
}

function openInstagram(){
  document.getElementById("disconnectBtn").style.display="block";
  setTimeout(()=>{
    window.location.href = IG_LOGIN_URL;
  },150);
}

function disconnect(){
  document.getElementById("disconnectBtn").style.display="none";
  window.location.href = window.location.pathname;
}

function panicReset(){
  // local + session
  localStorage.clear();
  sessionStorage.clear();

  // delete cookies (max allowed)
  document.cookie.split(";").forEach(cookie=>{
    document.cookie = cookie.trim().split("=")[0] + "=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;";
  });

  // force IG logout
  window.location.href = IG_LOGOUT_URL;
  
  setTimeout(()=>{
    window.location.href = window.location.pathname;
  },1000);
}
</script>

</body>
</html>