<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>Playcentrix Calculator</title>
<style>
html, body {
  margin:0; padding:0;
  height:100%; width:100%;
  overflow:hidden;
  background:#000;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
}
.container {
  width:100%; max-width:400px;
  height:100%;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  padding:15px;
  box-sizing:border-box;
}
.display-wrapper {
  overflow-x:auto;
  scrollbar-width:none;
}
.display-wrapper::-webkit-scrollbar { display:none; }
.display {
  color:#fff;
  text-align:right;
  font-size:3.3rem;
  padding:20px 10px;
  min-height:90px;
  white-space:nowrap;
  transition: font-size 0.2s ease;
}
.placeholder {
  color:#555;  /* subtle gray */
  font-size:3.5rem;
  text-align:right;
  padding:20px 10px;
  min-height:90px;
}
.buttons {
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
}
button {
  font-size:1.6rem;
  height:70px;
  border:none;
  border-radius:50%;
  color:#fff;
  cursor:pointer;
  backdrop-filter: blur(15px) saturate(180%);
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.2);
  box-shadow: inset 1px 1px 2px rgba(255,255,255,0.2),
              inset -2px -2px 6px rgba(0,0,0,0.6),
              0 4px 10px rgba(0,0,0,0.4);
  transition:background 0.2s, transform 0.1s;
}
button:active {
  background: rgba(255,255,255,0.2);
  transform:scale(0.95);
}
button.zero {
  grid-column:span 2;
  border-radius:40px;
  text-align:left;
  padding-left:30px;
}
button.operator {
  background: rgba(255,159,10,0.85);
  border: 1px solid rgba(255,159,10,0.9);
}
button.function {
  background: rgba(165,165,165,0.85);
  color:#000;
}
</style>
</head>
<body>
<div class="container">
  <div class="display-wrapper">
    <div id="placeholder" class="placeholder">Playcentrix</div>
    <div id="display" class="display" style="display:none;"></div>
  </div>
  <div class="buttons">
    <button class="function" onclick="clearDisplay()">AC</button>
    <button class="function" onclick="deleteLast()">⌫</button>
    <button class="function" onclick="appendValue('%')">%</button>
    <button class="operator" onclick="appendValue('÷')">÷</button>

    <button onclick="appendValue('7')">7</button>
    <button onclick="appendValue('8')">8</button>
    <button onclick="appendValue('9')">9</button>
    <button class="operator" onclick="appendValue('×')">×</button>

    <button onclick="appendValue('4')">4</button>
    <button onclick="appendValue('5')">5</button>
    <button onclick="appendValue('6')">6</button>
    <button class="operator" onclick="appendValue('-')">−</button>

    <button onclick="appendValue('1')">1</button>
    <button onclick="appendValue('2')">2</button>
    <button onclick="appendValue('3')">3</button>
    <button class="operator" onclick="appendValue('+')">+</button>

    <button class="zero" onclick="appendValue('0')">0</button>
    <button onclick="appendValue('.')">.</button>
    <button class="operator" onclick="calculate()">=</button>
  </div>
</div>

<script>
let display = document.getElementById('display');
let placeholder = document.getElementById('placeholder');
let hasTyped = false;
let resetNext = false;

function appendValue(val) {
  if (!hasTyped) {
    placeholder.style.display = "none";
    display.style.display = "block";
    hasTyped = true;
  }
  if (resetNext) {
    display.textContent = "";
    resetNext = false;
  }
  display.textContent += val;
  adjustFontSize();
  scrollRight();
}

function clearDisplay() {
  if (!hasTyped) return; // don't reset placeholder
  display.textContent = "0"; 
  resetNext = false;
  adjustFontSize();
  scrollRight();
}

function deleteLast() {
  if (!hasTyped) return; 
  if (resetNext) {
    clearDisplay();
    return;
  }
  display.textContent = display.textContent.slice(0, -1);
  if (display.textContent === "") {
    display.textContent = "";
  }
  adjustFontSize();
  scrollRight();
}

function calculate() {
  if (!hasTyped) return;
  try {
    let expr = display.textContent.replace(/÷/g,"/").replace(/×/g,"*");
    let result = eval(expr);
    display.textContent = result;
    resetNext = true;
    adjustFontSize();
    scrollRight();
  } catch {
    display.textContent = "Error";
    resetNext = true;
  }
}

function scrollRight() {
  const wrapper = document.querySelector('.display-wrapper');
  wrapper.scrollLeft = wrapper.scrollWidth;
}

function adjustFontSize() {
  const wrapper = document.querySelector('.display-wrapper');
  const maxFont = 3.3; 
  const minFont = maxFont * 0.85; 
  display.style.fontSize = maxFont + "rem";

  while (display.scrollWidth > wrapper.clientWidth && parseFloat(display.style.fontSize) > minFont) {
    let current = parseFloat(display.style.fontSize);
    display.style.fontSize = (current - 0.1) + "rem";
  }
}
</script>
</body>
</html>